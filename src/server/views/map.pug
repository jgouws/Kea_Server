extends layout

block content
    #map
    script.
      function initMap(){
      //Change here to get the actual data from the db
      var heatmapData = [];

      for dt in data
        + heatmapData(new google.maps.LatLng(dt.latitude, dt.longitude))

      var wellington = new google.maps.LatLng(-41.2865,174.7762);
      map = new google.maps.Map(document.getElementById('map'), {
      center: wellington,
      zoom: 5,
      mapTypeId: 'satellite'
      });
      var heatmap = new google.maps.visualization.HeatmapLayer({
      data: heatmapData,
      radius: 7
      });
      heatmap.setMap(map);
      heatmap.dissipating = false;
      }
    script(async='', defer='', src='https://maps.googleapis.com/maps/api/js?key=AIzaSyDgs1JEaEOxaQER4W5lKsZP3vbw83GjqXM&callback=initMap&libraries=visualization')
